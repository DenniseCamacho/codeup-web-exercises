<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!--	mobile view-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Second Map</title>
	<!--	bootstrap icons-->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
	<!--	bootstrap5-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<!--	map stylesheet-->
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css' rel='stylesheet' />
	<!--	css style-->
	<style>
		#map {
			width: 400px;
			height: 300px;
		}
	</style>
</head>
<body>


<!--

Mini - Exercise 4 (before final exercise)

Create an HTML file called mapbox-4.html centered on San Antonio that programmatically is re-centered over Zion National Park using the coordinates of the park by geocoding the physical address.

Add the latitude and longitude of Honolulu, Hawaii and use reverse geocoding to move the map to this location by geocoding inside of the reverseGeocode function.

-->
<section id='map' class="card m-auto mt-5"></section>
<!--map script src-->
<script src='https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js'></script>
<script src="js/keys.js"></script>
<script>
	"use strict";
	
	mapboxgl.accessToken = MAPBOX_API_TOKEN;
	var map = new mapboxgl.Map({
		container: 'map', // container ID
		style: 'mapbox://styles/mapbox/streets-v11', // style URL
		center: [-98.6735189, 29.3038893], // starting position [lng, lat]
		zoom: 13// starting zoom
	});
	
	function geocode(search, token) {
		var baseUrl = 'https://api.mapbox.com';
		var endPoint = '/geocoding/v5/mapbox.places/';
		return fetch(baseUrl + endPoint + encodeURIComponent(search) + '.json' + "?" + 'access_token=' + token)
				.then(function(res) {
					return res.json();
					// to get all the data from the request, comment out the following three lines...
				}).then(function(data) {
					return data.features[0].center;
				});
	}
	geocode("Tacos La Caba√±a, Texas", MAPBOX_API_TOKEN).then(function(data){
		console.log(data);
	});

</script>
</body>
</html>